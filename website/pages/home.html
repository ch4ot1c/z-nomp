<style>
    #topCharts{
        padding-left: 18px;
		padding-right: 18px;
		padding-top: 18px;
		padding-bottom: 0px;
    }
    #topCharts > div > div > svg{
        display: block;
        height: 280px;
    }
    .chartWrapper{
        border: solid 1px #c7c7c7;
        border-radius: 5px;
        padding: 5px;
        margin-bottom: 18px;
    }
    .chartLabel{
        font-size: 1.2em;
        text-align: center;
        padding: 4px;
    }

	#boxesWorkers {
        margin: 0 9px;
    }
    #boxesWorkers > div {
        display: flex;
    }
    #boxesWorkers > div > div {
        flex: 1 1 auto;
        margin: 0 9px 18px 9px;
        padding: 10px;
        display: flex;
        flex-direction: column;
    }
    .boxLowerHeader{
        font-size: 1.3em;
        margin: 0 0 5px 10px;
    }

    #boxStatsLeft{
        color: black;
        background-color: #cccccc;
    }
    #boxStatsRight{
		color: black;
        background-color: #cccccc;
    }
    .boxStats{
        color: white;
    }
    .boxStatsList{
        display: flex;
        flex-flow: row wrap;
        justify-content: space-around;
        opacity: 0.77;
        margin-bottom: 5px;
        flex: 1 1 auto;
        align-content: center;
    }
    .boxStatsList i.fa{
        height: 15px;
        width: 33px;
        text-align: center;
    }
    .boxStatsList > div{
        padding: 5px 20px;
    }
    .boxStatsList > div > div{
        padding: 3px;
    }

</style>
    
<!-- 	<div class="row">
	<div class="col-md-12 col-xs-12" style="font-size: 12px;">
<div class="alert alert-primary alert-dismissable" role="alert">
	<a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
<b>Thank you for everyone that participated in the block giveaway! [<a href="#" data-toggle="modal" data-target="#giveawayModal">10 of 10 blocks found</a>]</b></div></div>
</div>  -->

      <!-- Icon Cards-->
      <div class="row">
	  <div class="col-xl-3 col-sm-6 mb-3 text-center">
	  
		<ul class="list-group text-justify">
		  <li class="list-group-item"><b>Donation Pool Info</b></li>

  <li class="list-group-item d-flex justify-content-between align-items-center">
    <span style="font-size:13px; width:100%;"><i class="fa fa-fw fa-money"></i>&nbsp;100% Donation To ZCL Treasury Until 50,000 ZCL Reached</span>
  </li>
  <li class="list-group-item d-flex justify-content-between align-items-center">
    <span style="font-size:13px; width:100%;"><i class="fa fa-fw fa-tachometer"></i>&nbsp;1.25 Bitcoin Private Reward Per ZCL Mined</span>
  </li>
    <li class="list-group-item d-flex justify-content-between align-items-center">
    <span style="font-size:13px; width:100%;"><i class="fa fa-fw fa-flash"></i>&nbsp;View Your BTCP Total In Your Miner Page</span>
  </li>
    <li class="list-group-item d-flex justify-content-between align-items-center">
    <span style="font-size:13px; width:100%;"><i class="fa fa-fw fa-exchange"></i><b>&nbsp;BTCP Payout Will Be <span style="text-decoration:underline">After</span> The Fork</b></span>
  </li>
</ul>  
      </div>	  
        <div class="col-xl-3 col-sm-6 mb-3">
		{{ function capitalizeFirstLetter(t){return t.charAt(0).toUpperCase()+t.slice(1)} }}

		<ul class="list-group">{{ for(var pool in it.stats.pools) { }}
		  <li class="list-group-item"><b>Pool Statistics</b></li>

  <li class="list-group-item d-flex justify-content-between align-items-center">
    <span style="font-size:13px"><i class="fa fa-fw fa-group"></i>&nbsp;Total Pool Miners / Workers</span>
    <span class="badge badge-primary badge-pill" id="statsMiners{{=pool}}">{{=it.stats.pools[pool].minerCount}} Miners / {{=it.stats.pools[pool].workerCount}} Workers</span>
  </li>
        <li class="list-group-item d-flex justify-content-between align-items-center">
    <span style="font-size:13px"><i class="fa fa-fw fa-cubes"></i>&nbsp;Total Blocks Mined (Pending)</span>
    <span class="badge badge-primary badge-pill" id="statsBlocksConfirmed{{=pool}}"><span id="confirmedBlocks">{{=it.stats.pools[pool].blocks.confirmed}}</span> Blocks (<span id="pendingBlocks">{{=it.stats.pools[pool].blocks.pending}}</span>)</span>
  </li>
  <li class="list-group-item d-flex justify-content-between align-items-center">
    <span style="font-size:13px"><i class="fa fa-fw fa-tachometer"></i>&nbsp;Total Pool Hashrate</span>
    <span class="badge badge-primary badge-pill" id="statsHashrate{{=pool}}">{{=it.stats.pools[pool].hashrateString}}</span>
  </li>
      <li class="list-group-item d-flex justify-content-between align-items-center">
    <span style="font-size:13px"><i class="fa fa-fw fa-flash"></i>&nbsp;Luck</span>
    <span class="badge badge-primary badge-pill" id="statsLuckDays{{=pool}}">{{=it.stats.pools[pool].luckDays}} Days</span>
  </li>
</ul>  
      </div>
        <div class="col-xl-3 col-sm-6 mb-3">
		<ul class="list-group">
		  <li class="list-group-item"><b>{{=capitalizeFirstLetter(it.stats.pools[pool].name)}} Network Statistics</b></li>

  <li class="list-group-item d-flex justify-content-between align-items-center">
    <span style="font-size:13px"><i class="fa fa-fw fa-cube"></i>&nbsp;Block Height</span>
    <span class="badge badge-primary badge-pill" id="statsNetworkBlocks{{=pool}}">{{=it.stats.pools[pool].poolStats.networkBlocks}}</span>
  </li>
        <li class="list-group-item d-flex justify-content-between align-items-center">
    <span style="font-size:13px"><i class="fa fa-tachometer"></i>&nbsp; Network Hash/s:</span>
	<span class="badge badge-primary badge-pill" id="statsNetworkSols{{=pool}}">{{=it.stats.pools[pool].poolStats.networkSolsString}}</span>
  </li>
  <li class="list-group-item d-flex justify-content-between align-items-center">
    <span style="font-size:13px"><i class="fa fa-unlock-alt" aria-hidden="true"></i>&nbsp; Difficulty:</span>
	<span class="badge badge-primary badge-pill" id="statsNetworkDiff{{=pool}}">{{=(parseFloat(it.stats.pools[pool].poolStats.networkDiff)).toFixed(0)}}</span>
  </li>
      <li class="list-group-item d-flex justify-content-between align-items-center">
    <span style="font-size:13px"><i class="fa fa-users"></i>&nbsp; Node Connections:</span> 
	<span class="badge badge-primary badge-pill" id="statsNetworkConnections{{=pool}}">{{=it.stats.pools[pool].poolStats.networkConnections}}</span>
  </li>
</ul>  
{{ } }}
      </div>
	  	  	  	          <div class="col-xl-3 col-sm-6 mb-3">

			  	  <script type="text/javascript" src="https://files.coinmarketcap.com/static/widget/currency.js"></script><div class="coinmarketcap-currency-widget" data-currency="zclassic" data-base="USD" data-secondary="BTC" data-ticker="true" data-rank="true" data-marketcap="true" data-volume="true" data-stats="USD" data-statsticker="false"></div>
			  </div>
                
          </div>	  
		 <div class="row">
			<div class="col-md-12">
			            <div class="card mb-3">
                <div class="card-header">
                    <i class="fa fa-area-chart"></i>&nbsp;Donation Progress&nbsp;<span class="badge badge-primary badge-pill" id="statsHashrate{{=pool}}">{{=it.stats.pools[pool].blocks.confirmed}} of 4000 Blocks ({{=it.stats.pools[pool].blocks.confirmed/4000}}%)</span>

                </div>
                <div class="card-body">
						<div class="progress">
  <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="{{=it.stats.pools[pool].blocks.confirmed}}" aria-valuemin="0" aria-valuemax="100" style="width: {{=it.stats.pools[pool].blocks.confirmed/4000}}%"></div>
</div>
</div>
                </div>
            </div>
			</div>
<div class="row">
	<div class="col-md-12">
            <!-- Area Chart Example-->
            <div class="card mb-3">
                <div class="card-header">
                    <i class="fa fa-area-chart"></i>Pool Hashrate&nbsp;<span class="badge badge-primary badge-pill" id="statsHashrate{{=pool}}">{{=it.stats.pools[pool].hashrateString}}</span>

                </div>
                <div class="card-body">
					<div id="topCharts">
    <div class="chartWrapper">
        <div class="chartHolder"><svg id="poolHashrate"/></div>
    </div>
</div>
                </div>
            </div>
			</div>
			</div>


<script>
    document.querySelector('main').appendChild(document.createElement('script')).src = '/static/stats.js';
</script>

<script>
    $(document).ready(function() {

		if(!window.statsSource){window.statsSource=new EventSource("/api/live_stats");}
        statsSource.addEventListener('message', function (e) {
            var stats = JSON.parse(e.data);
            for (algo in stats.algos) {
                $('#statsMiners' + algo).text(stats.algos[algo].workers);
                $('span#statsHashrate' + algo).text(stats.algos[algo].hashrateString);
            }
            for (var pool in stats.pools) {
                $('#statsMiners' + pool).text(stats.pools[pool].minerCount + " Miners / " + stats.pools[pool].workerCount + " Workers");
                $('span#statsHashrate' + pool).text(stats.pools[pool].hashrateString);
				
								var confirmed = $("span#confirmedBlocks").text();
				var pending = $("span#pendingBlocks").text();
				
				if(confirmed != stats.pools[pool].blocks.confirmed){
					$("span#confirmedBlocks").text(stats.pools[pool].blocks.confirmed);
				}
								if(pending != stats.pools[pool].blocks.pending){
					$("span#pendingBlocks").text(stats.pools[pool].blocks.pending);
				}
			
            }
        });
    });
</script>
